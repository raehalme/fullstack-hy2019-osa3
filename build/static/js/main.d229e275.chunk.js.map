{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","phonebook","axios","get","then","response","data","newObject","post","id","put","concat","delete","Filter","_ref","text","onChange","react_default","a","createElement","value","PersonForm","_ref2","name","onNameChange","number","onNumberChange","onSubmit","type","onClick","Persons","_ref3","persons","onDelete","Fragment","map","person","App_Person","key","Person","_ref4","event","Notification","_ref5","message","className","App","_useState","useState","_useState2","Object","slicedToArray","query","setQuery","_useState3","_useState4","setPersons","_useState5","_useState6","newName","setNewName","_useState7","_useState8","newNumber","setNewNumber","_useState9","_useState10","notification","setNotification","_useState11","_useState12","notificationType","setNotificationType","useEffect","byName","criteria","toLowerCase","indexOf","showNotification","setTimeout","showError","App_Notification","App_Filter","target","App_PersonForm","preventDefault","filter","length","window","confirm","existingPerson","find","p","modifiedPerson","objectSpread","newPerson","catch","error","App_Persons","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d229e275.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios\n      .get(baseUrl)\n      .then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios\n      .post(baseUrl, newObject)\n      .then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios\n      .put(`${baseUrl}/${id}`, newObject)\n      .then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport phonebook from './services/phonebook'\n\nimport './App.css'\n\nconst Filter = ({text, onChange}) => (\n  <div>\n    rajaa näytettäviä: <input value={text} onChange={onChange} />\n  </div>\n)\n\nconst PersonForm = ({name, onNameChange, number, onNumberChange, onSubmit}) => (\n  <form>\n    <div>\n      nimi: <input value={name} onChange={onNameChange} />\n    </div>\n    <div>\n      numero: <input value={number} onChange={onNumberChange} />\n    </div>\n    <div>\n      <button type=\"submit\" onClick={onSubmit}>lisää</button>\n    </div>\n  </form>\n)\n\nconst Persons = ({persons, onDelete}) => (\n  <>\n    {persons.map(person => <Person key={person.id} person={person} onDelete={onDelete} />)}\n  </>\n)\n\nconst Person = ({person, onDelete}) => (\n  <div>\n    {person.name}, puh. {person.number}\n    <button onClick={(event) => onDelete(person)}>poista</button>\n  </div>\n)\n\nconst Notification = ({message, className}) => {\n  if (message == null || message === '') {\n    return null\n  }\n  else {\n    return (\n      <div className={className}>{message}</div>\n    )\n  }\n}\n\nconst App = () => {\n  const [ query, setQuery ] = useState('')\n  const [ persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notification, setNotification ] = useState('')\n  const [ notificationType, setNotificationType ] = useState('')\n\n  useEffect(() => {\n    phonebook\n      .getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const nameExists = (name) => persons.filter(person => person.name === name).length > 0\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (nameExists(newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const existingPerson = persons.find(p => p.name === newName)\n        const modifiedPerson = { ...existingPerson, number: newNumber }\n        phonebook\n          .update(modifiedPerson.id, modifiedPerson)\n          .then((newPerson) => {\n            setPersons(persons.map(person => person.id === modifiedPerson.id ? modifiedPerson : person))\n            setNewName('')\n            setNewNumber('')\n            showNotification(`Henkilön ${newPerson.name} puhelinnumero päivitetty.`)\n          })\n          .catch(error => showError(error.response.data.error))\n        }\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      phonebook\n        .create(newPerson)\n        .then((newPerson) => {\n          setPersons(persons.concat(newPerson))\n          setNewName('')\n          setNewNumber('')\n          showNotification(`Henkilö ${newPerson.name} lisätty.`)\n        })\n        .catch(error => showError(error.response.data.error))\n    }\n  }\n\n  const handleQueryChange = (event) => {\n    setQuery(event.target.value)\n  }\n\n  const queryPersons = () => {\n    return query !== '' ? persons.filter(byName(query)) : persons\n  }\n\n  const byName = (text) => {\n    const criteria = text = text.toLowerCase()\n    return person => person.name.toLowerCase().indexOf(criteria) !== -1\n  }\n\n  const handlePersonRemove = (person) => {\n    phonebook\n    .remove(person.id)\n    .then(() => {\n      setPersons(persons.filter(p => p.id !== person.id))\n      showNotification(`Henkilö ${person.name} poistettu.`)\n    })\n    .catch((error) => {\n      setPersons(persons.filter(p => p.id !== person.id))\n      showError(`Henkilö ${person.name} oli jo poistettu.`)\n    })\n  }\n\n  const showNotification = (message) => {\n    setNotification(message)\n    setNotificationType(\"info\")\n    setTimeout(() => setNotification(null), 3000)\n  }\n\n  const showError = (message) => {\n    setNotification(message)\n    setNotificationType(\"error\")\n    setTimeout(() => setNotification(null), 5000)\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={notification} className={notificationType} />\n      <Filter text={query} onChange={handleQueryChange} />\n      <h3>lisää uusi</h3>\n      <PersonForm \n          name={newName} onNameChange={handleNameChange} \n          number={newNumber} onNumberChange={handleNumberChange}\n          onSubmit={addPerson} />\n      <h3>Numerot</h3>\n      <Persons persons={queryPersons()} onDelete={handlePersonRemove} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}